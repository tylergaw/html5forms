<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>HTML Constraint Validation API</title>
	<link rel="stylesheet" href="../css/reset.css">
	<link rel="stylesheet" href="../css/base.css">
	<link rel="stylesheet" href="../errorStyles/errors.css">
</head>
<body>
	<form action="#" method="post" novalidate>
		<fieldset>
			<div>
				<label for="name" class="required">Name</label>
				<input type="text" id="name" name="name" required>
			</div>
			<div>
				<label for="email" class="required">Email</label>
				<input type="email" id="email" name="email" required>
			</div>
			<div>
				<label for="password" class="required">Password</label>
				<input type="password" id="password" name="password" required>
			</div>
			<div>
				<input type="submit" name="submit" value="Skadoosh!">
			</div>
		</fieldset>
	</form>
	
	<script>
		var form   = document.forms[0],
			inputs = document.getElementsByTagName('input');
		
		form.onsubmit = function () {
			for (var i = 0, len = inputs.length; i < len; i += 1) {
				var input = inputs[i];
				
				// Don't check the validity of the submit button.
				if (input.getAttribute('type') !== 'submit') {
					input.checkValidity();
					
					if (!input.validity.valid) {
						console.log(input.validationMessage);
						return false;
					}
					
					input.addEventListener('invalid', function () {
						
					}, true);
				}
			}
			
			return false;
		}

	</script>
</body>
</html>